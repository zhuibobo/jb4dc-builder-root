<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <!--模块构建-->
    <!--remarks中的:会用于切分注册到构建库中的标题和备注-->
    <changeSet author="zhuangrb" id="changeSet-Builder-Base" objectQuotingStrategy="QUOTE_ALL_OBJECTS">

        <createTable tableName="TBUILD_DB_LINK" remarks="业务数据库连接">
            <column name="DB_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="DB_LINK_VALUE" type="NVARCHAR(200)" remarks="值,唯一"/>
            <column name="DB_LINK_NAME" type="NVARCHAR(200)" remarks="数据库名称"/>
            <column name="DB_TYPE" type="NVARCHAR(200)" remarks="数据库类型"/>
            <column name="DB_DRIVER_NAME" type="NVARCHAR(200)" remarks="驱动程序名称"/>
            <column name="DB_DATABASE_NAME" type="NVARCHAR(200)" remarks="数据库名称"/>
            <column name="DB_URL" type="NVARCHAR(1000)" remarks="数据库URL地址"/>
            <column name="DB_USER" type="NVARCHAR(100)" remarks="用户名"/>
            <column name="DB_PASSWORD" type="NVARCHAR(100)" remarks="密码"/>
            <column name="DB_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="DB_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="DB_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="DB_IS_LOCATION" type="NVARCHAR(10)" remarks="是否本地库,构建库与业务库一体"/>
            <column name="DB_STATUS" type="NVARCHAR(50)" remarks="状态"/>
            <column name="DB_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="DB_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>

        <createTable tableName="TBUILD_TABLE_GROUP" remarks="表分组信息表">
            <column name="TABLE_GROUP_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="TABLE_GROUP_VALUE" type="NVARCHAR(200)" remarks="分组值">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_GROUP_TEXT" type="NVARCHAR(200)" remarks="分组名称">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_GROUP_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="TABLE_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="TABLE_GROUP_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="TABLE_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="TABLE_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID"/>
            <column name="TABLE_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="TABLE_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="TABLE_GROUP_PID_LIST" type="NVARCHAR(1200)" remarks="父节点IDList">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_GROUP_CHILD_COUNT" type="INT" remarks="子节点数量"/>
            <column name="TABLE_GROUP_LINK_ID" type="NVARCHAR(100)" remarks="所属连接ID:关联到表TBUILD_DB_LINK.DB_ID"/>
            <column name="TABLE_GROUP_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="TABLE_GROUP_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>

        <createTable tableName="TBUILD_TABLE" remarks="表基础信息:分为构建表和系统表">
            <column name="TABLE_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="TABLE_CODE" type="NVARCHAR(50)" remarks="表编号:无特殊作用,序列生成,便于查找,禁止用于开发">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_CAPTION" type="NVARCHAR(200)" remarks="表标题">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_NAME" type="NVARCHAR(200)" remarks="表名称:在数据库中的名称">
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="TABLE_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="TABLE_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="TABLE_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="TABLE_SERVICE_VALUE" type="NVARCHAR(100)" remarks="连接服务值"/>
            <column name="TABLE_TYPE" type="NVARCHAR(100)" remarks="表类型:DBDesign=直接在数据库中设计的,Builder=通过表设计器设计"/>
            <column name="TABLE_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统表:系统表不允许修改" />
            <column name="TABLE_ORDER_NUM" type="INT" remarks="排序号" />
            <column name="TABLE_DESC" type="NVARCHAR(2000)" remarks="备注" />
            <column name="TABLE_GROUP_ID" type="NVARCHAR(100)" remarks="所属分组ID" >
                <constraints nullable="false"/>
            </column>
            <column name="TABLE_STATUS" type="NVARCHAR(10)" remarks="状态" />
            <!--<column name="TABLE_LINK_ID" type="NVARCHAR(100)" remarks="所属连接ID:关联到表TBUILD_DB_LINK.DB_ID"/>-->
            <column name="TABLE_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID" />
            <column name="TABLE_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称" />
        </createTable>

        <createTable tableName="TBUILD_TABLE_FIELD" remarks="表的相关字段表">
            <column name="FIELD_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="FIELD_TABLE_ID" type="NVARCHAR(100)" remarks="所属表ID">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_NAME" type="NVARCHAR(100)" remarks="字段名">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_CAPTION" type="NVARCHAR(100)" remarks="字段标题">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_IS_PK" type="NVARCHAR(10)" remarks="是否主键"/>
            <column name="FIELD_ALLOW_NULL" type="NVARCHAR(10)" remarks="是否允许为空"/>
            <column name="FIELD_DATA_TYPE" type="NVARCHAR(50)" remarks="数据类型:类型详见枚举TableFieldTypeEnum">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_DATA_LENGTH" type="INT" remarks="字段长度"/>
            <column name="FIELD_DECIMAL_LENGTH" type="INT" remarks="小数位数"/>
            <column name="FIELD_DEFAULT_TYPE" type="NVARCHAR(50)" remarks="默认值类型"/>
            <column name="FIELD_DEFAULT_VALUE" type="NVARCHAR(1000)" remarks="默认值"/>
            <column name="FIELD_DEFAULT_TEXT" type="NVARCHAR(400)" remarks="默认值描述"/>
            <column name="FIELD_CREATE_TIME" type="datetime(6)" remarks="创建时间">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="FIELD_UPDATE_TIME" type="datetime(6)" remarks="更新时间">
                <constraints nullable="false"/>
            </column>
            <column name="FIELD_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="FIELD_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="FIELD_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="FIELD_TEMPLATE_NAME" type="NVARCHAR(100)" remarks="模版名称"/>
        </createTable>

        <!--表关系只是作为逻辑上的描述,便于了解项目的数据结构,不做实际上表之间的物理关系-->
        <createTable tableName="TBUILD_TABLE_RELATION_GROUP" remarks="表关系分组表">
            <column name="REL_GROUP_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="REL_GROUP_VALUE" type="NVARCHAR(200)" remarks="关联分组值">
                <constraints nullable="false"/>
            </column>
            <column name="REL_GROUP_TEXT" type="NVARCHAR(200)" remarks="关联分组标题">
                <constraints nullable="false"/>
            </column>
            <column name="REL_GROUP_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="REL_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="REL_GROUP_DESC" type="NVARCHAR(500)" remarks="描述" />
            <column name="REL_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态" />
            <column name="REL_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID" />
            <column name="REL_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统" />
            <column name="REL_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="是否允许删除" />
            <column name="REL_GROUP_PID_LIST" type="NVARCHAR(1200)" remarks="父节点列表" >
                <constraints nullable="false"/>
            </column>
            <column name="REL_GROUP_CHILD_COUNT" type="INT" remarks="子节点数量" />
            <column name="REL_GROUP_USER_ID" type="NVARCHAR(100)" remarks="创建人ID" />
            <column name="REL_GROUP_USER_NAME" type="NVARCHAR(100)" remarks="创建人" />
        </createTable>

        <createTable tableName="TBUILD_TABLE_RELATION" remarks="表关系描述信息表">
            <column name="RELATION_ID" type="NVARCHAR(100)" remarks="表关联ID:主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="RELATION_GROUP_ID" type="NVARCHAR(100)" remarks="所属分组ID" />
            <column name="RELATION_NAME" type="NVARCHAR(100)" remarks="表关联名称" />
            <column name="RELATION_USER_ID" type="NVARCHAR(100)" remarks="创建人ID" />
            <column name="RELATION_USER_NAME" type="NVARCHAR(100)" remarks="创建人" />
            <column name="RELATION_ORDER_NUM" type="INT" remarks="排序号" />
            <column name="RELATION_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="RELATION_DESC" type="NVARCHAR(500)" remarks="描述" />
            <column name="RELATION_STATUS" type="NVARCHAR(10)" remarks="状态" />
            <column name="RELATION_CONTENT" type="CLOB" remarks="表关系的Json描述:抽取元素的组要属性进行存储" />
            <column name="RELATION_DIAGRAM_JSON" type="CLOB" remarks="画布的原始Json:用于生成图片" />
        </createTable>

        <createTable tableName="TBUILD_TABLE_RELATION_HIS" remarks="表关系描述信息历史表">
            <column name="HIS_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="HIS_GROUP_ID" type="NVARCHAR(100)" remarks="所属分组ID" />
            <column name="HIS_NAME" type="NVARCHAR(100)" remarks="表关联名称" />
            <column name="HIS_USER_ID" type="NVARCHAR(100)" remarks="创建人ID" />
            <column name="HIS_USER_NAME" type="NVARCHAR(100)" remarks="创建人" />
            <column name="HIS_ORDER_NUM" type="INT" remarks="排序号" />
            <column name="HIS_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="HIS_DESC" type="NVARCHAR(500)" remarks="描述" />
            <column name="HIS_STATUS" type="NVARCHAR(10)" remarks="状态" />
            <column name="HIS_CONTENT" type="CLOB" remarks="表关系的Json描述" />
            <column name="HIS_BELONG_REL_ID" type="NVARCHAR(100)" remarks="所属记录ID" />
        </createTable>

        <createTable tableName="TBUILD_DATASET_GROUP" remarks="数据集分组表">
            <column name="DS_GROUP_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="DS_GROUP_VALUE" type="NVARCHAR(200)" remarks="分组值">
                <constraints nullable="false"/>
            </column>
            <column name="DS_GROUP_TEXT" type="NVARCHAR(200)" remarks="分组名称">
                <constraints nullable="false"/>
            </column>
            <column name="DS_GROUP_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="DS_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="DS_GROUP_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="DS_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="DS_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID"/>
            <column name="DS_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="DS_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="内否进行删除"/>
            <column name="DS_GROUP_PID_LIST" type="NVARCHAR(1200)" remarks="父节点ID列表">
                <constraints nullable="false"/>
            </column>
            <column name="DS_GROUP_CHILD_COUNT" type="INT" remarks="子节点数量"/>
            <column name="DS_GROUP_LINK_ID" type="NVARCHAR(100)" remarks="所属连接ID:关联到表TBUILD_DB_LINK.DB_ID"/>
            <column name="DS_GROUP_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="DS_GROUP_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织ID名称"/>
        </createTable>

        <createTable tableName="TBUILD_DATASET" remarks="数据集定义表">
            <column name="DS_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="DS_CODE" type="NVARCHAR(50)" remarks="数据集编号:无特殊作用,序列生成,便于查找,禁止用于开发" >
                <constraints nullable="false"/>
            </column>
            <column name="DS_CAPTION" type="NVARCHAR(200)" remarks="数据集标题" >
                <constraints nullable="false"/>
            </column>
            <column name="DS_NAME" type="NVARCHAR(200)" remarks="数据集名称" >
                <constraints nullable="false"/>
            </column>
            <column name="DS_CREATE_TIME" type="datetime(6)" remarks="创建时间" />
            <column name="DS_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="DS_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="DS_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="DS_TYPE" type="NVARCHAR(100)" remarks="类型"/>
            <column name="DS_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="DS_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="DS_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="DS_GROUP_ID" type="NVARCHAR(100)" remarks="所属分组ID">
                <constraints nullable="false"/>
            </column>
            <column name="DS_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="DS_SQL_SELECT_TEXT" type="NVARCHAR(4000)" remarks="查询的SQL原始文本"/>
            <column name="DS_SQL_SELECT_VALUE" type="NVARCHAR(4000)" remarks="实际用于查询的SQL"/>
            <column name="DS_SQL_DB_LINK_ID" type="NVARCHAR(100)" remarks="数据库连接ID:数据集为SQL形成时,目标库的ID"/>
            <column name="DS_CLASS_NAME" type="NVARCHAR(300)" remarks="API类的名称"/>
            <column name="DS_REST_STRUCTURE_URL" type="NVARCHAR(500)" remarks="REST数据集结构的接口地址"/>
            <column name="DS_REST_DATA_URL" type="NVARCHAR(500)" remarks="REST数据集的接口地址" />
            <column name="DS_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="DS_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>

        <createTable tableName="TBUILD_DATASET_COLUMN" remarks="数据集包含的列描述表">
            <column name="COLUMN_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="COLUMN_DS_ID" type="NVARCHAR(100)" remarks="所属数据集ID"/>
            <column name="COLUMN_CAPTION" type="NVARCHAR(200)" remarks="列标题"/>
            <column name="COLUMN_NAME" type="NVARCHAR(200)" remarks="列名"/>
            <column name="COLUMN_DATA_TYPE_NAME" type="NVARCHAR(200)" remarks="数据类型"/>
            <column name="COLUMN_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="COLUMN_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="COLUMN_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="COLUMN_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="COLUMN_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="COLUMN_DEFAULT_TYPE" type="NVARCHAR(50)" remarks="默认值类型"/>
            <column name="COLUMN_DEFAULT_VALUE" type="NVARCHAR(1000)" remarks="默认值"/>
            <column name="COLUMN_DEFAULT_TEXT" type="NVARCHAR(400)" remarks="默认值描述"/>
            <column name="COLUMN_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="COLUMN_TABLE_NAME" type="NVARCHAR(50)" remarks="所属表名"/>
            <column name="COLUMN_IS_CUSTOM" type="NVARCHAR(10)" remarks="是否自定义"/>
            <column name="COLUMN_FORMATTER" type="NVARCHAR(400)" remarks="格式化方法"/>
        </createTable>

        <createTable tableName="TBUILD_DATASET_RELATED_TABLE" remarks="数据集相关的数据表">
            <column name="RT_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="RT_DS_ID" type="NVARCHAR(100)" remarks="数据集ID"/>
            <column name="RT_TABLE_NAME" type="NVARCHAR(200)" remarks="表名"/>
            <column name="RT_TABLE_CAPTION" type="NVARCHAR(200)" remarks="表标题"/>
            <column name="RT_TABLE_ID" type="NVARCHAR(200)" remarks="表ID"/>
            <column name="RT_TABLE_TYPE" type="NVARCHAR(200)" remarks="表类型"/>
            <column name="RT_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="RT_ORDER_NUM" type="INT" remarks="排序号"/>
        </createTable>

        <createTable tableName="TBUILD_MODULE" remarks="模块表">
            <column name="MODULE_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="MODULE_VALUE" type="NVARCHAR(200)" remarks="模块值">
                <constraints nullable="false"/>
            </column>
            <column name="MODULE_TEXT" type="NVARCHAR(200)" remarks="模块标题">
                <constraints nullable="false"/>
            </column>
            <column name="MODULE_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="MODULE_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="MODULE_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="MODULE_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="MODULE_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID"/>
            <column name="MODULE_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="MODULE_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="MODULE_PID_LIST" type="NVARCHAR(1200)" remarks="父节点ID列表">
                <constraints nullable="false"/>
            </column>
            <column name="MODULE_CHILD_COUNT" type="INT" remarks="子节点数量"/>
            <column name="MODULE_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="MODULE_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>

        <createTable tableName="TBUILD_FLOW_INTEGRATED" remarks="流程模型表">
            <column name="INTEGRATED_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="INTEGRATED_DE_ID" type="NVARCHAR(100)" remarks="act_de_model表的ID">
            </column>
            <column name="INTEGRATED_DE_MESSAGE" type="NVARCHAR(1000)" remarks="部署结果消息">
            </column>
            <column name="INTEGRATED_DE_SUCCESS" type="NVARCHAR(50)" remarks="部署是否成功">
            </column>
            <column name="INTEGRATED_MODULE_ID" type="NVARCHAR(100)" remarks="所属的模块ID">
                <constraints nullable="false"/>
            </column>
            <column name="INTEGRATED_CODE" type="NVARCHAR(50)" remarks="模型编码">
                <constraints nullable="false"/>
            </column>
            <column name="INTEGRATED_NAME" type="NVARCHAR(100)" remarks="模型名称">
                <constraints nullable="false"/>
            </column>
            <column name="INTEGRATED_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="INTEGRATED_CREATOR" type="NVARCHAR(100)" remarks="创建者"/>
            <column name="INTEGRATED_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="INTEGRATED_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="INTEGRATED_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="INTEGRATED_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="INTEGRATED_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="INTEGRATED_DEPLOYMENT_ID" type="NVARCHAR(1000)" remarks="部署ID"/>
            <column name="INTEGRATED_START_KEY" type="NVARCHAR(1000)" remarks="启动键"/>
            <column name="INTEGRATED_RESOURCE_NAME" type="NVARCHAR(1000)" remarks="资源名称"/>
            <column name="INTEGRATED_FROM_TYPE" type="NVARCHAR(50)" remarks="流程模型来自上传或者页面设计"/>
        </createTable>

        <createTable tableName="TBUILD_FORM_RESOURCE" remarks="窗体资源存储表:用于存储窗体设计的文件">
            <column name="FORM_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="FORM_CODE" type="NVARCHAR(50)" remarks="窗体编号:无特殊作用,序列生成,便于查找,禁止用于开发">
                <constraints nullable="false"/>
            </column>
            <column name="FORM_NAME" type="NVARCHAR(200)" remarks="窗体名称">
                <constraints nullable="false"/>
            </column>
            <column name="FORM_SINGLE_NAME" type="NVARCHAR(200)" remarks="唯一名称:可以为空,如果存在则必须唯一">
                <constraints nullable="false"/>
            </column>
            <column name="FORM_CREATE_TIME" type="datetime(6)" remarks="创建时间" />
            <column name="FORM_CREATOR" type="NVARCHAR(100)" remarks="创建人" />
            <column name="FORM_UPDATE_TIME" type="datetime(6)" remarks="更新时间" />
            <column name="FORM_UPDATER" type="NVARCHAR(100)" remarks="更新人" />
            <column name="FORM_TYPE" type="NVARCHAR(100)" remarks="表单类型:业务表单....." />
            <column name="FORM_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统" />
            <column name="FORM_ORDER_NUM" type="INT" remarks="排序号" />
            <column name="FORM_DESC" type="NVARCHAR(1000)" remarks="备注" />
            <column name="FORM_MODULE_ID" type="NVARCHAR(100)" remarks="所属模块ID" >
                <constraints nullable="false"/>
            </column>
            <column name="FORM_STATUS" type="NVARCHAR(10)" remarks="状态" />
            <column name="FORM_ORGAN_ID" type="NVARCHAR(100)" remarks="创建组织ID" />
            <column name="FORM_ORGAN_NAME" type="NVARCHAR(100)" remarks="创建组织名称" />
            <column name="FORM_MAIN_TABLE_NAME" type="NVARCHAR(100)"  remarks="表单的主表名称:从数据关系字段FORM_DATA_RELATION提取" />
            <column name="FORM_MAIN_TABLE_CAPTION" type="NVARCHAR(100)" remarks="表单的主表标题:从数据关系字段FORM_DATA_RELATION提取" />
            <column name="FORM_DATA_RELATION" type="NVARCHAR(4000)" remarks="数据关系的设置:根节点为主表" />
            <column name="FORM_IS_TEMPLATE" type="NVARCHAR(100)" remarks="是否模版:未使用" />
            <column name="FORM_IS_RESOLVE" type="NVARCHAR(10)" remarks="是否进行了解析:解析过的表单将不再进行服务端的解析" />
            <column name="FORM_EVERY_TIME_RESOLVE" type="NVARCHAR(10)" remarks="是否每次都进行服务端解析:默认为否,只解析一次" />
            <column name="FORM_HTML_SOURCE" type="CLOB" remarks="原始的HTML" />
            <column name="FORM_HTML_RESOLVE" type="CLOB" remarks="解析后的HTML" />
            <column name="FORM_JS_CONTENT" type="CLOB" remarks="JS编辑器中的内容" />
            <column name="FORM_CSS_CONTENT" type="CLOB" remarks="CSS编辑器中的内容" />
            <column name="FORM_CONFIG_CONTENT" type="CLOB" remarks="配置编辑器中的内容" />
            <column name="FORM_SOURCE" type="NVARCHAR(50)" remarks="表单的来源:Web设计器,URL引入..." />
            <column name="FORM_CONTENT_URL" type="NVARCHAR(1000)" remarks="引入表单的URL地址" />
            <column name="FORM_THEME" type="NVARCHAR(50)" remarks="风格主题:基于配置文件中的配置" />
            <column name="FORM_CUST_SERVER_RENDERER" type="NVARCHAR(200)" remarks="服务端自定义的渲染方法:继承IFormSeverRenderer" />
            <column name="FORM_CUST_REF_JS" type="NVARCHAR(500)" remarks="引入的脚本:多个通过;分割" />
            <column name="FORM_CUST_CLIENT_RENDERER" type="NVARCHAR(200)" remarks="客户端自定义的渲染方法:需要指明具体的方法名称" />
            <column name="FORM_CUST_DESC" type="NVARCHAR(400)" remarks="自定义设置备注:使用了自定义设置相关方法的备注说明" />
        </createTable>

        <createTable tableName="TBUILD_FORM_CONFIG" remarks="窗体资源相关配置表">
            <column name="FCONFIG_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="FCONFIG_FORM_ID" type="NVARCHAR(100)" remarks="所属表单ID">
                <constraints nullable="false"/>
            </column>
            <column name="FCONFIG_TYPE" type="NVARCHAR(100)" remarks="配置类型">
                <constraints nullable="false"/>
            </column>
            <column name="FCONFIG_NAME" type="NVARCHAR(100)" remarks="配置名称">
                <constraints nullable="false"/>
            </column>
            <column name="FCONFIG_VALUE" type="NVARCHAR(1000)" remarks="配置值">
                <constraints nullable="false"/>
            </column>
            <column name="FCONFIG_DESC" type="NVARCHAR(1000)" remarks="备注">
                <constraints nullable="false"/>
            </column>
            <column name="FCONFIG_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="FCONFIG_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="FCONFIG_ORDER_NUM" type="INT" remarks="排序号"/>
        </createTable>

        <createTable tableName="TBUILD_LIST_RESOURCE" remarks="列表资源存储表:用于存储列表设计的文件">
            <column name="LIST_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="LIST_CODE" type="NVARCHAR(50)" remarks="列表编号:无特殊作用,序列生成,便于查找,禁止用于开发">
                <constraints nullable="false"/>
            </column>
            <column name="LIST_NAME" type="NVARCHAR(200)" remarks="列表名称">
                <constraints nullable="false"/>
            </column>
            <column name="LIST_SINGLE_NAME" type="NVARCHAR(200)" remarks="唯一名称:可以为空,如果存在则必须唯一">
                <constraints nullable="false"/>
            </column>
            <column name="LIST_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="LIST_CREATOR" type="NVARCHAR(100)" remarks="创建人"/>
            <column name="LIST_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="LIST_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="LIST_TYPE" type="NVARCHAR(100)" remarks="列表类型:...."/>
            <column name="LIST_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="LIST_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="LIST_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="LIST_MODULE_ID" type="NVARCHAR(100)" remarks="所属模块ID">
                <constraints nullable="false"/>
            </column>
            <column name="LIST_STATUS" type="NVARCHAR(10)" remarks="列表状态"/>
            <column name="LIST_ORGAN_ID" type="NVARCHAR(100)" remarks="组织id"/>
            <column name="LIST_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
            <column name="LIST_DATASET_ID" type="NVARCHAR(100)" remarks="使用的数据集ID:如果布局容器中没有设置自己的数据集,则使用该处的数据集"/>
            <column name="LIST_DATASET_NAME" type="NVARCHAR(150)" remarks="使用的数据集名称:如果布局容器中没有设置自己的数据集,则使用该处的数据集"/>
            <column name="LIST_DATASET_PAGE_SIZE" type="INT" remarks="使用的数据集的单页数量"/>
            <column name="LIST_IS_RESOLVE" type="NVARCHAR(10)" remarks="是否进行了解析:解析过的列表将不再进行服务端的解析"/>
            <column name="LIST_EVERY_TIME_RESOLVE" type="NVARCHAR(10)" remarks="是否每次都进行服务端解析:默认为否,只解析一次"/>
            <column name="LIST_HTML_SOURCE" type="CLOB" remarks="原始的HTML"/>
            <column name="LIST_HTML_RESOLVE" type="CLOB" remarks="解析后的HTML"/>
            <column name="LIST_JS_CONTENT" type="CLOB" remarks="JS编辑器中的内容"/>
            <column name="LIST_CSS_CONTENT" type="CLOB" remarks="CSS编辑器中的内容"/>
            <column name="LIST_CONFIG_CONTENT" type="CLOB" remarks="配置编辑器中的内容"/>
            <column name="LIST_ENABLE_S_SEAR" type="NVARCHAR(10)" remarks="是否启用简单查询"/>
            <column name="LIST_ENABLE_C_SEAR" type="NVARCHAR(10)" remarks="是否启用复杂查询"/>
            <column name="LIST_THEME" type="NVARCHAR(50)" remarks="风格主题:基于配置文件中的配置"/>
            <column name="LIST_CUST_SERVER_RENDERER" type="NVARCHAR(200)" remarks="服务端自定义的渲染方法:继承IFormSeverRenderer"/>
            <column name="LIST_CUST_REF_JS" type="NVARCHAR(500)" remarks="引入的脚本:多个通过;分割"/>
            <column name="LIST_CUST_CLIENT_RENDERER" type="NVARCHAR(200)" remarks="客户端自定义的渲染方法:需要指明具体的方法名称"/>
            <column name="LIST_CUST_DESC" type="NVARCHAR(400)" remarks="自定义设置备注:使用了自定义设置相关方法的备注说明"/>
        </createTable>

        <createTable tableName="TBUILD_LIST_BUTTON" remarks="列表按钮配置表:用于存储列表相关的按钮的配置,在保存列表时从html中解析形成,主要用于后续的详细页" >
            <column name="BUTTON_ID" type="NVARCHAR(100)" remarks="主键:使用列表ID与元素的ID合并形成">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="BUTTON_LIST_ID" type="NVARCHAR(100)" remarks="所属的列表ID"/>
            <column name="BUTTON_LIST_ELEM_ID" type="NVARCHAR(100)" remarks="所属的列表ID"/>
            <column name="BUTTON_SINGLE_NAME" type="NVARCHAR(100)" remarks="控件定义的唯一名称"/>
            <column name="BUTTON_CAPTION" type="NVARCHAR(100)" remarks="按钮的标题"/>
            <column name="BUTTON_CONTENT" type="CLOB" remarks="按钮的配置内容"/>
            <column name="BUTTON_AUTH" type="NVARCHAR(100)" remarks="按钮绑定的权限ID"/>
            <column name="BUTTON_RT_CONTENT_RENDERER" type="NVARCHAR(200)" remarks="运行时的内容解析方法:继承IListButtonRTSeverRenderer"/>
            <column name="BUTTON_OUTER_ID" type="NVARCHAR(100)" remarks="按钮外部关联对象的ID:例如窗体"/>
            <column name="BUTTON_CUST_SINGLE_NAME" type="NVARCHAR(100)" remarks="用户自定义的按钮唯一名称"/>
            <column name="BUTTON_CUST_PROP1" type="NVARCHAR(200)" remarks="用户自定义属性1"/>
            <column name="BUTTON_CUST_PROP2" type="NVARCHAR(200)" remarks="用户自定义属性2"/>
            <column name="BUTTON_CUST_PROP3" type="NVARCHAR(200)" remarks="用户自定义属性3"/>
            <column name="BUTTON_CUST_PROP4" type="NVARCHAR(200)" remarks="用户自定义属性4"/>
            <column name="BUTTON_DESC" type="NVARCHAR(400)" remarks="备注" />
            <column name="BUTTON_INNER_CONFIG" type="NVARCHAR(4000)" remarks="按钮的内部配置:例如窗体按钮的innerbuttonjsonstring属性"/>
            <column name="BUTTON_OPERATION_TYPE" type="NVARCHAR(20)" remarks="操作类型:add,update,view"/>
        </createTable>

    </changeSet>

    <changeSet id="changeSet-Builder-Base-ex1" author="zhuangrb" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <addColumn tableName="TBUILD_LIST_RESOURCE">
            <column name="LIST_DATASET_PRIMARY_KEY" type="NVARCHAR(100)" remarks="使用的数据集ID的主键字段名称"/>
        </addColumn>
    </changeSet>

    <changeSet id="changeSet-Builder-Base-ex2" author="zhuangrb" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <addColumn tableName="TBUILD_DATASET_RELATED_TABLE">
            <column name="RT_TABLE_IS_MAIN" type="NVARCHAR(20)" remarks="是否是数据集的主表:是,否"/>
        </addColumn>
    </changeSet>

    <changeSet id="changeSet-Builder-Base-ex3" author="zhuangrb" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <addColumn tableName="TBUILD_MODULE">
            <column name="MODULE_LINK_ID" type="NVARCHAR(100)" remarks="所属连接ID:关联到表TBUILD_DB_LINK.DB_ID"/>
        </addColumn>
    </changeSet>

    <changeSet id="changeSet-Builder-Base-ex4" author="zhuangrb" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <addColumn tableName="TBUILD_FORM_RESOURCE">
            <column name="FORM_MAIN_TABLE_ID" type="NVARCHAR(100)" remarks="表单的主表ID:从数据关系字段FORM_DATA_RELATION提取"/>
        </addColumn>
    </changeSet>

    <changeSet id="changeSet-Builder-Base-ex5" author="zhuangrb" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <addColumn tableName="TBUILD_FORM_RESOURCE">
            <column name="FORM_INNER_BUTTON" type="NVARCHAR(4000)" remarks="按钮的内部配置:例如窗体按钮的innerbuttonjsonstring属性"/>
            <column name="FORM_OPERATION_TYPE" type="NVARCHAR(20)" remarks="操作类型:add 新增,judge 按照条件判断"/>
            <column name="FORM_JUDGE_API" type="NVARCHAR(300)" remarks="API判断条件"/>
            <column name="FORM_JUDGE_SQL" type="NVARCHAR(600)" remarks="SQL判断条件"/>
        </addColumn>
    </changeSet>
    <!--网站模块-->
    <changeSet author="zhuangrb" id="changeSet-Builder-Site-Base" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <createTable tableName="TBUILD_SITE_INFO" remarks="站点基础信息表">
            <column name="SITE_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="SITE_NAME" type="NVARCHAR(200)" remarks="站点名称"/>
            <column name="SITE_SINGLE_NAME" type="NVARCHAR(100)" remarks="站点唯一名称"/>
            <column name="SITE_PUBLIC_ROOT_PATH" type="NVARCHAR(300)" remarks="文件发布基础路径,存储后台上传的图片,视频等文件"/>
            <column name="SITE_DOMAIN" type="NVARCHAR(200)" remarks="站点域名"/>
            <column name="SITE_CONTEXT_PATH" type="NVARCHAR(100)" remarks="站点根路径"/>
            <column name="SITE_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="SITE_CREATOR" type="NVARCHAR(100)" remarks="创建者"/>
            <column name="SITE_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="SITE_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="SITE_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="SITE_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="SITE_ORDER_NUM" type="INT" remarks="排序号"/>
        </createTable>
        <createTable tableName="TBUILD_SITE_FOLDER" remarks="站点文件夹信息表">
            <column name="FOLDER_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="FOLDER_SITE_ID" type="NVARCHAR(100)" remarks="站点ID"/>
            <column name="FOLDER_NAME" type="NVARCHAR(200)" remarks="文件夹名称"/>
            <column name="FOLDER_PARENT_ID" type="NVARCHAR(200)" remarks="父文件夹ID"/>
            <column name="FOLDER_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="FOLDER_CREATOR" type="NVARCHAR(100)" remarks="创建者"/>
            <column name="FOLDER_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="FOLDER_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="FOLDER_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="FOLDER_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="FOLDER_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="FOLDER_TYPE" type="NVARCHAR(10)" remarks="类型"/>
        </createTable>
        <createTable tableName="TBUILD_SITE_RESOURCE" remarks="站点资源文件表">
            <column name="RESOURCE_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="RESOURCE_FOLDER_ID" type="NVARCHAR(100)" remarks="文件夹ID"/>
            <column name="RESOURCE_SITE_ID" type="NVARCHAR(100)" remarks="站点ID"/>
            <column name="RESOURCE_NAME" type="NVARCHAR(200)" remarks="资源名称"/>
            <column name="RESOURCE_FILE_NAME" type="NVARCHAR(200)" remarks="资源文件名称"/>
            <column name="RESOURCE_CONTENT" type="LONGBLOB" remarks="资源的二进制内容">
                <constraints nullable="false"/>
            </column>
            <column name="RESOURCE_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="RESOURCE_CREATOR" type="NVARCHAR(100)" remarks="创建者"/>
            <column name="RESOURCE_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="RESOURCE_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="RESOURCE_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="RESOURCE_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="RESOURCE_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="RESOURCE_TYPE" type="NVARCHAR(10)" remarks="资源类型"/>
        </createTable>
        <createTable tableName="TBUILD_SITE_TEMPLATE" remarks="站点模版表">
            <column name="TEMPLATE_ID" type="NVARCHAR(100)" remarks="主键:模版唯一名称:英文或者_">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="TEMPLATE_FOLDER_ID" type="NVARCHAR(100)" remarks="文件夹ID"/>
            <column name="TEMPLATE_SITE_ID" type="NVARCHAR(100)" remarks="站点ID"/>
            <column name="TEMPLATE_PARENT_ID" type="NVARCHAR(100)" remarks="父模版ID"/>
            <column name="TEMPLATE_TYPE" type="NVARCHAR(20)" remarks="模版类型"/>
            <column name="TEMPLATE_NAME" type="NVARCHAR(200)" remarks="模版名称"/>
            <column name="TEMPLATE_FILE_NAME" type="NVARCHAR(200)" remarks="模版文件名称"/>
            <column name="TEMPLATE_CONTENT_HTML" type="CLOB" remarks="模版HTML内容">
            </column>
            <column name="TEMPLATE_CONTENT_JS" type="CLOB" remarks="模版JS内容">
            </column>
            <column name="TEMPLATE_CONTENT_CSS" type="CLOB" remarks="模版CSS内容">
            </column>
            <column name="TEMPLATE_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="TEMPLATE_CREATOR" type="NVARCHAR(100)" remarks="创建者"/>
            <column name="TEMPLATE_UPDATE_TIME" type="datetime(6)" remarks="更新时间"/>
            <column name="TEMPLATE_UPDATER" type="NVARCHAR(100)" remarks="更新人"/>
            <column name="TEMPLATE_DESC" type="NVARCHAR(1000)" remarks="备注"/>
            <column name="TEMPLATE_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="TEMPLATE_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="TEMPLATE_CONTROLLER_API" type="NVARCHAR(200)" remarks="控制器扩展API"/>
            <column name="TEMPLATE_LOC_X" type="INT" remarks="图形位置X"/>
            <column name="TEMPLATE_LOC_Y" type="INT" remarks="图形位置Y"/>
        </createTable>
        <createTable tableName="TBUILD_SITE_TEMPLATE_HIS" remarks="站点模版历史表">
            <column name="HIS_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="HIS_TEMPLATE_ID" type="NVARCHAR(100)" remarks="主键:UUID">
            </column>
            <column name="HIS_CONTENT_HTML" type="CLOB" remarks="模版HTML内容">
            </column>
            <column name="HIS_CONTENT_JS" type="CLOB" remarks="模版JS内容">
            </column>
            <column name="HIS_CONTENT_CSS" type="CLOB" remarks="模版CSS内容">
            </column>
            <column name="HIS_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
        </createTable>
    </changeSet>

    <changeSet author="zhuangrb" id="changeSet-Builder-Env-Variable" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <createTable tableName="TBUILD_ENV_GROUP" remarks="环境变量分组">
            <column name="ENV_GROUP_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="ENV_GROUP_VALUE" type="NVARCHAR(200)" remarks="分组值">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_GROUP_TEXT" type="NVARCHAR(200)" remarks="分组名称">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_GROUP_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="ENV_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="ENV_GROUP_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="ENV_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="ENV_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID"/>
            <column name="ENV_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="ENV_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="ENV_GROUP_PID_LIST" type="NVARCHAR(1200)" remarks="父节点IDList">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_GROUP_CHILD_COUNT" type="INT" remarks="子节点数量"/>
            <column name="ENV_GROUP_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="ENV_GROUP_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>
        <createTable tableName="TBUILD_ENV_VARIABLE" remarks="环境变量">
            <column name="ENV_VAR_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="ENV_VAR_VALUE" type="NVARCHAR(200)" remarks="环境变量的Value:必须唯一">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_VAR_TEXT" type="NVARCHAR(200)" remarks="环境变量的显示文本">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_VAR_CLASS_NAME" type="NVARCHAR(400)" remarks="处理类名称">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_VAR_CLASS_PARA" type="NVARCHAR(400)" remarks="处理方法参数">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_VAR_REST" type="NVARCHAR(400)" remarks="REST环境变量" />
            <column name="ENV_VAR_REST_PARA" type="NVARCHAR(400)" remarks="REST环境变量" />
            <column name="ENV_VAR_GROUP_ID" type="NVARCHAR(100)" remarks="分组ID:环境变量所属的分组的ID">
                <constraints nullable="false"/>
            </column>
            <column name="ENV_VAR_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="ENV_VAR_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="ENV_VAR_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否是系统环境变量"/>
            <column name="ENV_VAR_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="ENV_VAR_STATUS" type="NVARCHAR(10)" remarks="状态:启用,禁用"/>
            <column name="ENV_VAR_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="ENV_VAR_EX_ATTR1" type="NVARCHAR(200)" remarks="扩展属性1:用于开发"/>
            <column name="ENV_VAR_EX_ATTR2" type="NVARCHAR(200)" remarks="扩展属性2:用于开发"/>
            <column name="ENV_VAR_EX_ATTR3" type="NVARCHAR(200)" remarks="扩展属性3:用于开发"/>
            <column name="ENV_VAR_EX_ATTR4" type="NVARCHAR(200)" remarks="扩展属性4:用于开发"/>
            <column name="ENV_VAR_USER_ID" type="NVARCHAR(100)" remarks="创建用户ID"/>
            <column name="ENV_VAR_USER_NAME" type="NVARCHAR(100)" remarks="创建用户名称"/>
            <column name="ENV_VAR_ORGAN_ID" type="NVARCHAR(100)" remarks="创建组织ID"/>
            <column name="ENV_VAR_ORGAN_NAME" type="NVARCHAR(100)" remarks="创建组织名称"/>
        </createTable>
    </changeSet>

    <changeSet author="zhuangrb" id="changeSet-Builder-Api" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <createTable tableName="TBUILD_API_GROUP" remarks="API分组">
            <column name="API_GROUP_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="API_GROUP_VALUE" type="NVARCHAR(200)" remarks="分组值">
                <constraints nullable="false"/>
            </column>
            <column name="API__GROUP_TEXT" type="NVARCHAR(200)" remarks="分组名称">
                <constraints nullable="false"/>
            </column>
            <column name="API_GROUP_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="API_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="API_GROUP_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="API_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态"/>
            <column name="API_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点ID"/>
            <column name="API_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="API_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="API_GROUP_PID_LIST" type="NVARCHAR(1200)" remarks="父节点IDList">
                <constraints nullable="false"/>
            </column>
            <column name="API_GROUP_CHILD_COUNT" type="INT" remarks="子节点数量"/>
            <column name="API_GROUP_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="API_GROUP_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
        </createTable>
        <createTable tableName="TBUILD_API_ITEM" remarks="API设置">
            <column name="API_ITEM_ID" type="NVARCHAR(100)" remarks="主键:UUID">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="API_ITEM_VALUE" type="NVARCHAR(200)" remarks="API的Value:必须唯一">
                <constraints nullable="false"/>
            </column>
            <column name="API_ITEM_TEXT" type="NVARCHAR(200)" remarks="API的显示文本">
                <constraints nullable="false"/>
            </column>
            <column name="API_ITEM_CLASS_NAME" type="NVARCHAR(400)" remarks="处理类名称">
                <constraints nullable="false"/>
            </column>
            <column name="API_ITEM_CLASS_PARA" type="NVARCHAR(400)" remarks="处理方法参数">
                <constraints nullable="false"/>
            </column>
            <column name="API_ITEM_REST" type="NVARCHAR(400)" remarks="REST的API" />
            <column name="API_ITEM_REST_PARA" type="NVARCHAR(400)" remarks="REST的API变量" />
            <column name="API_ITEM_GROUP_ID" type="NVARCHAR(100)" remarks="分组ID:API所属的分组的ID">
                <constraints nullable="false"/>
            </column>
            <column name="API_ITEM_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="API_ITEM_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="API_ITEM_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否是系统环境变量"/>
            <column name="API_ITEM_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="API_ITEM_STATUS" type="NVARCHAR(10)" remarks="状态:启用,禁用"/>
            <column name="API_ITEM_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="API_ITEM_EX_ATTR1" type="NVARCHAR(200)" remarks="扩展属性1:用于开发"/>
            <column name="API_ITEM_EX_ATTR2" type="NVARCHAR(200)" remarks="扩展属性2:用于开发"/>
            <column name="API_ITEM_EX_ATTR3" type="NVARCHAR(200)" remarks="扩展属性3:用于开发"/>
            <column name="API_ITEM_EX_ATTR4" type="NVARCHAR(200)" remarks="扩展属性4:用于开发"/>
            <column name="API_ITEM_USER_ID" type="NVARCHAR(100)" remarks="创建用户ID"/>
            <column name="API_ITEM_USER_NAME" type="NVARCHAR(100)" remarks="创建用户名称"/>
            <column name="API_ITEM_ORGAN_ID" type="NVARCHAR(100)" remarks="创建组织ID"/>
            <column name="API_ITEM_ORGAN_NAME" type="NVARCHAR(100)" remarks="创建组织名称"/>
        </createTable>
    </changeSet>

    <!--系统设置-->
    <changeSet author="zhuangrb" id="changeSet-System-0001" objectQuotingStrategy="QUOTE_ALL_OBJECTS">
        <createTable tableName="TSYS_DICTIONARY_GROUP" remarks="数据字典的分组表:本身存在层级结构">
            <column name="DICT_GROUP_ID" type="NVARCHAR(100)" remarks="字典分组ID:随机的UUID,主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="DICT_GROUP_VALUE" type="NVARCHAR(200)" remarks="字典项分组的键值:必须唯一">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_GROUP_TEXT" type="NVARCHAR(200)" remarks="字典项分组的名称">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_GROUP_ORDER_NUM" type="INT" remarks="排序号" />
            <column name="DICT_GROUP_CREATE_TIME" type="datetime(6)" remarks="创建时间" />
            <column name="DICT_GROUP_DESC" type="NVARCHAR(500)" remarks="备注" />
            <column name="DICT_GROUP_STATUS" type="NVARCHAR(10)" remarks="状态:启用,禁用" />
            <column name="DICT_GROUP_PARENT_ID" type="NVARCHAR(100)" remarks="父节点的ID" />
            <column name="DICT_GROUP_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否是分组" />
            <column name="DICT_GROUP_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除" />
            <column name="DICT_GROUP_ENP_ITEM" type="NVARCHAR(10)" remarks="是否显示空选项:为是时,将默认显示[请选择]为空选项" />
        </createTable>

        <createTable tableName="TSYS_DICTIONARY" remarks="数据字典表:用于存储通用的数据字典项,本身存在层次结果[分组->一级字典->二级字典->三级字典">
            <column name="DICT_ID" type="NVARCHAR(100)" remarks="字典项的ID:随机的UUID,主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="DICT_KEY" type="NVARCHAR(200)" remarks="字典项的键值:在同一组内必须唯一,用于进行二次开发">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_VALUE" type="NVARCHAR(200)" remarks="字典项的Value:在同一组内必须唯一,绑定到控件时,将使用该值作为Value">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_TEXT" type="NVARCHAR(200)" remarks="字典项的显示文本">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_GROUP_ID" type="NVARCHAR(100)" remarks="分组ID:字典项所述的分组的ID">
                <constraints nullable="false"/>
            </column>
            <column name="DICT_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="DICT_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="DICT_PARENT_ID" type="NVARCHAR(100)" remarks="父节点的ID"/>
            <column name="DICT_PARENT_ID_LIST" type="NVARCHAR(1200)" remarks="父节点的ID列表"/>
            <column name="DICT_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否是系统字典项"/>
            <column name="DICT_DEL_ENABLE" type="NVARCHAR(10)" remarks="能否删除"/>
            <column name="DICT_STATUS" type="NVARCHAR(10)" remarks="状态:启用,禁用"/>
            <column name="DICT_IS_SELECTED" type="NVARCHAR(10)" remarks="是否默认选中:需要程序自行实现"/>
            <column name="DICT_DESC" type="NVARCHAR(500)" remarks="备注"/>
            <column name="DICT_CHILD_COUNT" type="INT" remarks="子节点的数量:不包含孙节点"/>
            <column name="DICT_EX_ATTR1" type="NVARCHAR(500)" remarks="扩展属性1:用于开发"/>
            <column name="DICT_EX_ATTR2" type="NVARCHAR(500)" remarks="扩展属性2:用于开发"/>
            <column name="DICT_EX_ATTR3" type="NVARCHAR(500)" remarks="扩展属性3:用于开发"/>
            <column name="DICT_EX_ATTR4" type="NVARCHAR(500)" remarks="扩展属性4:用于开发"/>
            <column name="DICT_USER_ID" type="NVARCHAR(100)" remarks="创建用户ID"/>
            <column name="DICT_USER_NAME" type="NVARCHAR(100)" remarks="创建用户名称"/>
            <column name="DICT_ORGAN_ID" type="NVARCHAR(100)" remarks="创建组织ID"/>
            <column name="DICT_ORGAN_NAME" type="NVARCHAR(100)" remarks="创建组织名称"/>
        </createTable>

        <createTable tableName="TSYS_OPERATION_LOG" remarks="操作日志表:用于存储用户操作日志的信息">
            <column name="LOG_ID" type="NVARCHAR(100)" remarks="日志的ID:随机的UUID,主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="LOG_TEXT" type="NVARCHAR(2000)" remarks="操作内容">
                <constraints nullable="false"/>
            </column>
            <column name="LOG_ORDER_NUM" type="INT" remarks="排序号"/>
            <column name="LOG_CREATE_TIME" type="datetime(6)" remarks="创建时间"/>
            <column name="LOG_SYSTEM_ID" type="NVARCHAR(100)" remarks="所属系统ID"/>
            <column name="LOG_SYSTEM_NAME" type="NVARCHAR(200)" remarks="系统名称"/>
            <column name="LOG_MODULE_ID" type="NVARCHAR(50)" remarks="模块ID"/>
            <column name="LOG_MODULE_NAME" type="NVARCHAR(200)" remarks="模块名称"/>
            <column name="LOG_ACTION_NAME" type="NVARCHAR(200)" remarks="动作名称"/>
            <column name="LOG_DATA" type="clob" remarks="日志数据"/>
            <column name="LOG_USER_ID" type="NVARCHAR(100)" remarks="用户ID"/>
            <column name="LOG_USER_NAME" type="NVARCHAR(100)" remarks="用户名称"/>
            <column name="LOG_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="LOG_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
            <column name="LOG_IP" type="NVARCHAR(100)" remarks="IP地址"/>
            <column name="LOG_TYPE" type="NVARCHAR(100)" remarks="日志类型"/>
            <column name="LOG_CLASS_NAME" type="NVARCHAR(200)" remarks="类名"/>
            <column name="LOG_STATUS" type="NVARCHAR(50)" remarks="状态"/>
        </createTable>

        <createTable tableName="TSYS_SETTING" remarks="系统设置表:用于存储各系统的配置">
            <column name="SETTING_ID" type="NVARCHAR(128)" remarks="配置的ID:随机的UUID,主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="SETTING_SYSTEM_NAME" type="NVARCHAR(200)" remarks="系统名称"/>
            <column name="SETTING_SYSTEM_ID" type="NVARCHAR(200)" remarks="所属系统ID"/>
            <column name="SETTING_MODULE_NAME" type="NVARCHAR(200)" remarks="模块名称"/>
            <column name="SETTING_MODULE_ID" type="NVARCHAR(50)" remarks="模块ID"/>
            <column name="SETTING_KEY" type="NVARCHAR(128)" remarks="配置的Key:必须唯一"/>
            <column name="SETTING_NAME" type="NVARCHAR(128)" remarks="配置的名称"/>
            <column name="SETTING_VALUE" type="NVARCHAR(500)" remarks="配置的值"/>
            <column name="SETTING_STATUS" type="NVARCHAR(10)" remarks="配置的状态"/>
            <column name="SETTING_DESC" type="NVARCHAR(2000)" remarks="配置的描述"/>
            <column name="SETTING_CREATE_TIME" type="datetime(6)" remarks="配置的时间"/>
            <column name="SETTING_USER_ID" type="NVARCHAR(100)" remarks="用户的ID"/>
            <column name="SETTING_USER_NAME" type="NVARCHAR(100)" remarks="用户的名称"/>
            <column name="SETTING_ORGAN_ID" type="NVARCHAR(100)" remarks="组织ID"/>
            <column name="SETTING_ORGAN_NAME" type="NVARCHAR(100)" remarks="组织名称"/>
            <column name="SETTING_API" type="NVARCHAR(100)" remarks="API方法的全名称:主要用于动态配置的扩展"/>
            <column name="SETTING_IS_SYSTEM" type="NVARCHAR(10)" remarks="是否系统所有"/>
            <column name="SETTING_ORDER_NUM" type="INT" remarks="排序号" />
        </createTable>

        <createTable tableName="TSYS_HISTORY_DATA" remarks="历史数据表:存储各个表被删除数据的历史记录">
            <column name="HISTORY_ID" type="NVARCHAR(128)" remarks="随机生成:UUID">
                <constraints primaryKey="true" nullable="false"></constraints>
            </column>
            <column name="HISTORY_SYSTEM_NAME" type="NVARCHAR(200)" remarks="系统名称"/>
            <column name="HISTORY_SYSTEM_ID" type="NVARCHAR(200)" remarks="所属系统ID"/>
            <column name="HISTORY_MODULE_NAME" type="NVARCHAR(200)" remarks="模块名称"/>
            <column name="HISTORY_MODULE_ID" type="NVARCHAR(50)" remarks="模块ID"/>
            <column name="HISTORY_RECORD" type="CLOB" remarks="被删除数据的json格式数据"/>
            <column name="HISTORY_ORGAN_ID" type="NVARCHAR(100)" remarks="删除用户所在的组织id" />
            <column name="HISTORY_ORGAN_NAME" type="NVARCHAR(100)" remarks="删除用户所在的组织名称"/>
            <column name="HISTORY_USER_ID" type="NVARCHAR(100)" remarks="删除用户的ID"/>
            <column name="HISTORY_USER_NAME" type="NVARCHAR(100)" remarks="删除用户的用户名"/>
            <column name="HISTORY_CREATE_TIME" type="datetime(6)" remarks="记录的创建时间"/>
            <column name="HISTORY_TABLE_NAME" type="NVARCHAR(100)" remarks="删除记录的表名"/>
            <column name="HISTORY_RECORD_ID" type="NVARCHAR(100)" remarks="删除记录的主键值"/>
        </createTable>
    </changeSet>
</databaseChangeLog>
